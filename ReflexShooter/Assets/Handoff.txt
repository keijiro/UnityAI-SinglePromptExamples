# プロジェクト引き継ぎドキュメント: 2D Sci-Fi シューティング

## 1. プロジェクト概要
- **ジャンル**: 2Dトップダウン・シューティング
- **技術スタック**: Unity 6 (6000.3), URP 2D, UI Toolkit
- **テーマ**: Sci-Fi（生成AIによるオリジナルアセット使用）

## 2. 実装済み機能
- **自機 (Player)**:
    - マウスカーソルを滑らかに追従する移動ロジック（加速度・最大速度制限付き）。
    - エネルギー制の反射バリア（左クリックで展開、静止時に回復）。
    - 衝突判定（敵弾・敵機）による爆発・自動リスタート機能。
- **敵 (Enemy)**:
    - 画面外周囲からランダムにスポーンし、自機を追尾。
    - 一定の拡散（Spread）を持った弾幕攻撃。
    - 画面外に一定距離離れると自動削除（最適化済み）。
- **弾 (Bullet)**:
    - 直進移動。バリア接触時にベクトル反射・速度2倍・攻撃属性反転。
- **UI**:
    - UI Toolkit によるエネルギーゲージ表示（UIController で制御）。

## 3. アーキテクチャと設定
- **物理演算**:
    - 全て CircleCollider2D に統一（パフォーマンス重視）。スプライトの見た目に合わせて半径を自動調整済み。
    - レイヤーマトリックス最適化: Bullet同士、Enemy同士の衝突計算を無効化。
- **アセット構成**:
    - `Assets/Scripts/`: 制御スクリプト群。
    - `Assets/Prefabs/`: 調整済みのプレハブ（Player, Enemy, Bullet, Barrier, Explosion）。
    - `Assets/Sprites/`: 生成された Sci-Fi テーマのアセット（透過処理済み）。
    - `Assets/UI/`: Main.uxml と関連設定。

## 4. パフォーマンス改善履歴
- 初期実装で PolygonCollider2D を使用した際、弾幕密度により物理演算負荷（FindNewContacts）が急増したため、CircleCollider2D へ変更。
- Physics Layer Matrix を設定し、判定回数を削減。
- 自機の加速度を調整し、マウス位置への追従時の発振（激しい振動）を解消。

## 5. 今後の課題・提案
- スコアシステムの導入。
- 敵の種類（バリエーション）の追加。
- バリア展開以外の攻撃手段（ショット等）の検討。
- 音響効果（SE/BGM）の実装。
